{% extends "base.html" %}

{% block content %}
<div class="profile">
    {% if user.profile.profile_picture %}
        <img src="{{ user.profile.profile_picture.url }}" alt="{{ user.username }}'s profile picture">
    {% endif %}
    <h2>{{ user.username }}</h2>
    <p>{{ user.profile.bio }}</p>
    <a href="{% url 'profile_edit' user.username %}">Edit</a>
</div>

<div class="user-posts">
    <h3>Posts by {{ user.username }}</h3>
    {% for post in posts %}
        <div class="post">
            <p>{{ post.content }}</p>
            {% if post.image %}
                <img src="{{ post.image.url }}" alt="Post Image">
            {% endif %}
            <small>Posted on {{ post.created_at }}</small>
        </div>
        {% if post.user == request.user %}
        <a href="{% url 'post_edit' post.pk %}">Edit</a>
        <a href="{% url 'post_delete' post.pk %}">Delete</a>
        {% endif %}
    {% endfor %}
</div>
{% endblock %}
